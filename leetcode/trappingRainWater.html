<!DOCTYPE html>
<html>
  <head>
    <title>
      trappingRain Water
    </title>
  </head>
  <body>
    <script>
      var trap = function(height) {
        console.log(height);
        let total = 0;
        for(let i=0; i<=height.length-2;i++){
          //console.log(`*** i ${i} [i]= ${height[i]}`)
          if(height[i]<= height[i+1] || height[i]===0){
            continue;
          }
          else{
            let big1 = height[i]
            let big2 = height[i+1]
            let index1 = i;
            let index2 = i+1;
            for(let j=i+2;j<height.length;j++){
              //console.log(`* j= ${j},  [j]= ${height[j] },  bjg1= ${big1}, big2= ${big2},  index1= ${index1},  index2= ${index2}`)
                if(height[j] >= big2){
                  big2 = height[j];
                  index2 = j
                  if(height[j] >= big1){
                    //console.log(`big2= ${big2},  index2= ${index2}`) 
                    break;
                  }
                }
              }
            let trapHeight = big1 < big2 ? big1 : big2;
            //console.log(`trapHeight= ${trapHeight}`)
            for(let k = index1; k<index2; k++){
              const diff = trapHeight - height[k]
              diff > 0 ? total+= diff : total= total; 
            }
            index1 = index2;
            big1 = big2;
            i = index2-1;
            //console.log(`total= ${total}`)
          }
          }
          //console.log(`final - ${total}`)
          return total;
       };


      console.log(trap([0,1,0,2,1,0,1,3,2,1,2,1]));
      console.log(trap([4,2,0,3,2,5]));
    </script>
  </body>
</html>